---
description: 웹 만드는 기록
date: 2025-07-04
isLink: false
---
다양한 배열을 만드는 것까지는 했는데 정보를 처리하려면 저장하는 방법을 알아야 한다...

지금 내가 group에서 관리하려는 정보는 1. 그룹 별 평균 위치 2. 그룹 별 흥미 위치 3. 그룹에 등록된 세포들 , 이렇게 있다. 이것들을 관리하려다 보니 앞에서 얘기했던 2차원 배열을 만드는 것으로 해결되지 않는다. 

```
export default class Group {

static currentId = 0;
static groupMap = new Map<number, Cell[]>();
static groupsAVGpos = new Map<number, Point>();

```

나는 아래와 같이 배열을 만들려고 했다. 그런데 맵은 키-쌍만 다룰 수 있어서 위치별 흥미 가중치, 그러니까 `number, Point, weight`  이 세 가지를 다루려니까 어떻게 해야하는지 모르고 있었다. 



## 자바스크립트에는 객체가 있다 

자바스크립트에서의 객체를 언제 써야할지 잘 모르고 있었는데 C에서 생성자 없는 객체를 쓰고 싶을 때 이거를 쓰면 되는 것 같기도...? 

위에서 언급한 것들을 객체로 만들면 다음과 같다.

```
export type GroupData = {
cells: Cell[];
avgPos: Point;
interests: Interests;
};
```

좌표를 저장하는 구조로 처음에 튜플 `point = [number, number]`을 사용해서 `point[]` 와 같은 방식을 사용하려고 했는데, 이렇게 쓰니 나중에 코드를 읽을 때 직관적이지 못한 것 같아 이렇게 바꿨다. 

```
export type Point = { x: number; y: number };
```

위 같은 방식을 발견하고 신나서 모든 자료를 객체로 바꿨다가 오히려 코드가 더 길어져버렸는데 그냥 한번 활용해봤다는 것에 의의를 두기로 했다. 

### 위와 같이 쓰는 게 좋을까 아니면 따로따로 쓰는 게 좋을까? 
코드를 쓰다보니 저 세 가지 정보를 따로 사용할 때가 많아서 굳이 저렇게 묶어야할까, 따로 정보를 저장하는 게 낫지 않을까 하는 의문이 들었는데 각각 장단점이 있었다.  
정보들을 같이 쓰면 정보들끼리 동기화가 쉽고 정보들을 따로 쓰면 직관적으로 바로바로 정보에 접근하기 쉽다. 
목적에 따라 쓰면 되는데, 일단 앞으로 바꿀 기회야 많으니 이대로 두고 한번 사용해보기로 했다. 

## Map
챗지피티가 이 정보를 관리하는 자료구조로 Map을 추천해줬는데 Map은 무엇일까? 

map은 키-쌍 값을 저장하는 자료구조인데, set, get, has, delete 등의 함수를 사용할 수 있다. 객체를 사용하면 이거를 forEach로 일일히 만져야했을까? 

### 자주 사용하는 값 찾기 함수 
```
static groupByID(allCells: Cell[]) {
	allCells.forEach((cell) => {
		const id = cell.state.groupID;
		if (id != null) {
			if (!Group.groupMap.has(id)) {
				Group.groupMap.set(id, {
					cells: [],
					avgPos: { x: 0, y: 0 },
					interests: [], 
				});
			}
			Group.groupMap.get(id)!.cells.push(cell);
		}
	});
}
```
- has
있는지 없는지 확인해서 bool으로 반환해준다.

- set 
값을 설정한다. 키-쌍 값을 추가한다. map에는 push가 없다. 지금 내 groupMap의 키-쌍에서 쌍은 1. 세포배열 2. 평균 위치 3. 흥미 배열 이렇게 되어있으므로 각각을 초기화시켜줘야한다. 

- get
`Group.groupMap.get(id)!.cells.push(cell);`
get은 키값에 해당하는 value를 불러오는 것인데 value가 객체/배열(참조 타입)이면 그 자리에서 바로 수정이 가능하다고 한다... 

개어렵다 


코딩은 결론적으로 자료구조를 접근과 조작이 용이하게 만들고, 그거를 조작해서 보여주는 거라는 생각이 계속 든다...